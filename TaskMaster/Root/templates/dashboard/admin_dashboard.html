{%load static%}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/stydash.css' %}">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="profile">
                <img src="https://via.placeholder.com/50" alt="User Profile">
                <h2>{{user.username}}</h2>
                <span class="status">● Online</span>
            </div>
            <nav class="menu">
                <ul>
                    <li><a href="{% url 'admin_dashboard'%}">Dashboard</a></li>
                    <li><a href="{% url 'gestion_usuario' %}">Gestionar usuarios</a></li>
                    <li><a href="{% url 'gestion_task'%}">Gestionar Tareas</a></li>
                    <li><a href="{% url 'gestion_productos' %}">Gestionar productos</a></li>
                    <li><a href="{% url 'logout' %}">Cerrar Sesion</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <header class="navbar">
                <div class="logo">
                    <h1>TaskMaster</h1>
                </div>
                <div class="user-info">
                    <i class="fas fa-bell"></i>
                    <img src="https://via.placeholder.com/30" alt="User Avatar">
                    <span>{{user.username}}</span>
                </div>
            </header>

            <!-- Dashboard Content -->
            <section class="dashboard">
                <div class="stats-cards">
                    <div style="border: solid 2px grey; max-width: 200px; height: 100%; width: 100%; background-color: whitesmoke; max-height: 400px;" class="card">
                        <form action="">
                            <label for="">Marcar terminado</label>
                            <div>
                                <p>Tarea : Turno extra domingo</p>
                                <br>
                                <a >Terminado? <input type="checkbox"></a>
                            </div>
                        </form>
                    </div>
                    
                    <div style=" border: solid 2px grey; max-width: 200px; height: 100%; width: 100%; background-color: whitesmoke; max-height: 400px;" class="card">
                        <form action="">
                            <label for="">Marcar terminado</label>
                            <div>
                                <p>Tarea : Limpieza pasillos</p>
                                <br>
                                <a >Terminado? <input type="checkbox"></a>
                            </div>
                        </form>
                    </div>
                    
                    <div style="border: solid 2px grey; max-width: 200px; height: 100%; width: 100%; background-color: whitesmoke; max-height: 400px;" class="card">
                        <form action="">
                            <label for="">Marcar terminado</label>
                            <div>
                                <p>Tarea : Venta en caja registradora</p>
                                <br>
                                <a >Terminado? <input type="checkbox"></a>
                            </div>
                        </form>
                    </div>
                    <div style="border: solid 2px grey; max-width: 200px; height: 100%; width: 100%; background-color: whitesmoke; max-height: 400px;" class="card">
                        <form action="">
                            <label for="">Marcar terminado</label>
                            <div>
                                <p>Tarea : Turno extra domingo</p>
                                <br>
                                <a >Terminado? <input type="checkbox"></a>
                            </div>
                        </form>
                    </div>
                    
                    <div style="border: solid 2px grey; max-width: 200px; height: 100%; width: 100%; background-color: whitesmoke; max-height: 400px;" class="card">
                        <form action="">
                            <label for="">Marcar terminado</label>
                            <div>
                                <p>Tarea : Ordenar bodega</p>
                                <br>
                                <a >Terminado? <input type="checkbox"></a>
                            </div>
                        </form>
                    </div>
                    
                    <div style="border: solid 2px grey; max-width: 200px; height: 100%; width: 100%; background-color: whitesmoke; max-height: 400px;" class="card">
                        <form action="">
                            <label for="">Marcar terminado</label>
                            <div>
                                <p>Tarea : Ayuda de cajero</p>
                                <br>
                                <a >Terminado? <input type="checkbox"></a>
                            </div>
                        </form>
                    </div>
                </div>
                <h2 style="text-align: center;">Estadísticas de Mejora del Mes</h2>
                <br>    
                <div style="display: flex; justify-content: space-around; margin-top: 20px;" class="charts">
                        <div style="width: 250px;height: 250px;"   class="chart-container">
                            <canvas id="tasksCompletedChart"></canvas>
                        </div>
                        <div style="width: 250px;height: 250px;" class="chart-container">
                            <canvas id="tasksPendingChart"></canvas>
                        </div>
                        <div style="width: 250px;height: 250px;" class="chart-container">
                            <canvas id="hoursWorkedChart"></canvas>
                        </div>
                    </div>
                    <br>
                    <br>
                
                <div class="social-stats">
                    <div class="social-card facebook">
                        <p style="color: white;">Tareas por terminar:<br>100</p>
                    </div>
                    <div class="social-card twitter">
                        <p style="color: white;">Tareas Terminadas:<br>150</p>
                    </div>
                </div>
                
            </section>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'js/script.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        const ctx1 = document.getElementById('tasksCompletedChart').getContext('2d');
        const tasksCompletedChart = new Chart(ctx1, {
            type: 'pie',
            data: {
                labels: ['Completadas', 'Pendientes'],
                datasets: [{
                    data: [150, 100], // Ajusta estos valores según tus datos
                    backgroundColor: ['#28a745', '#dc3545'], // Colores para las secciones
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                }
            }
        });
    
        const ctx2 = document.getElementById('tasksPendingChart').getContext('2d');
        const tasksPendingChart = new Chart(ctx2, {
            type: 'pie',
            data: {
                labels: ['Pendientes', 'Completadas'],
                datasets: [{
                    data: [100, 150], // Ajusta estos valores según tus datos
                    backgroundColor: ['#dc3545', '#28a745'], // Colores para las secciones
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                }
            }
        });
    
        const ctx3 = document.getElementById('hoursWorkedChart').getContext('2d');
        const hoursWorkedChart = new Chart(ctx3, {
            type: 'pie',
            data: {
                labels: ['Horas Trabajadas', 'Horas Libres'],
                datasets: [{
                    data: [200, 50], // Ajusta estos valores según tus datos
                    backgroundColor: ['#007bff', '#ffc107'], // Colores para las secciones
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                }
            }
        });
    </script>
    

</body>
</html>
